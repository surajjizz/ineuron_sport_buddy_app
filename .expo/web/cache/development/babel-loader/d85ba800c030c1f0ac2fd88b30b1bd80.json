{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AppDefaults from \"../defaults/AppDefaults\";\nimport RootStore from \"../stores/RootStore\";\n\nvar HttpClient = function () {\n  function HttpClient(baseUrl) {\n    var isLoader = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n\n    _classCallCheck(this, HttpClient);\n\n    this.baseUrl = baseUrl;\n    this.isLoader = isLoader;\n    this.syncTimeout = timeout;\n  }\n\n  _createClass(HttpClient, [{\n    key: \"httpFetch\",\n    value: function httpFetch(url, config) {\n      var response, _err$message, _err$message$toLowerC;\n\n      return _regeneratorRuntime.async(function httpFetch$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = this.baseUrl ? this.baseUrl + url : url;\n              this.syncTimeout = this.syncTimeout * 1000;\n\n              if (this.isLoader) {\n                RootStore.commonStore.setLoaderStatus(true);\n              }\n\n              response = null;\n              _context.prev = 4;\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(this.timeout(this.syncTimeout, fetch(url, config)));\n\n            case 7:\n              response = _context.sent;\n              _context.next = 17;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](4);\n\n              if (!(_context.t0 == 'forbidden')) {\n                _context.next = 16;\n                break;\n              }\n\n              throw _context.t0;\n\n            case 16:\n              Alert.alert(\"Exception\", (_context.t0 == null ? void 0 : _context.t0.message) + (_context.t0 != null && (_err$message = _context.t0.message) != null && (_err$message$toLowerC = _err$message.toLowerCase()) != null && _err$message$toLowerC.includes('network request failed') ? \".Please Check internet connection \" : \"\"));\n\n            case 17:\n              _context.prev = 17;\n\n              if (this.isLoader) {\n                RootStore.commonStore.setLoaderStatus(false);\n              }\n\n              return _context.finish(17);\n\n            case 20:\n              return _context.abrupt(\"return\", response);\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[4, 10, 17, 20]], Promise);\n    }\n  }, {\n    key: \"get\",\n    value: function get(url) {\n      var config;\n      return _regeneratorRuntime.async(function get$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              config = {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              };\n              return _context2.abrupt(\"return\", this.httpFetch(url, config));\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"post\",\n    value: function post(url, body, method) {\n      var config;\n      return _regeneratorRuntime.async(function post$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              config = {\n                method: method,\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(body)\n              };\n              return _context3.abrupt(\"return\", this.httpFetch(url, config));\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"timeout\",\n    value: function timeout(ms, promise) {\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          reject(new Error(\"timeout\"));\n        }, ms);\n        promise.then(resolve, reject);\n      });\n    }\n  }, {\n    key: \"getResponse\",\n    value: function getResponse(url) {\n      var retResp, response;\n      return _regeneratorRuntime.async(function getResponse$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(this.get(url));\n\n            case 2:\n              response = _context4.sent;\n\n              if (!(response == null)) {\n                _context4.next = 5;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", null);\n\n            case 5:\n              _context4.prev = 5;\n\n              if (!response.ok) {\n                _context4.next = 10;\n                break;\n              }\n\n              _context4.next = 9;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 9:\n              retResp = _context4.sent;\n\n            case 10:\n              _context4.next = 15;\n              break;\n\n            case 12:\n              _context4.prev = 12;\n              _context4.t0 = _context4[\"catch\"](5);\n              retResp = {};\n\n            case 15:\n              return _context4.abrupt(\"return\", retResp);\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this, [[5, 12]], Promise);\n    }\n  }, {\n    key: \"postResponse\",\n    value: function postResponse(url, body) {\n      var method,\n          retResp,\n          response,\n          _args5 = arguments;\n      return _regeneratorRuntime.async(function postResponse$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              method = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : 'POST';\n              retResp = null;\n              _context5.next = 4;\n              return _regeneratorRuntime.awrap(this.post(url, body, method));\n\n            case 4:\n              response = _context5.sent;\n\n              if (!(response == null)) {\n                _context5.next = 7;\n                break;\n              }\n\n              return _context5.abrupt(\"return\", null);\n\n            case 7:\n              _context5.prev = 7;\n\n              if (!response.ok) {\n                _context5.next = 12;\n                break;\n              }\n\n              _context5.next = 11;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 11:\n              retResp = _context5.sent;\n\n            case 12:\n              _context5.next = 17;\n              break;\n\n            case 14:\n              _context5.prev = 14;\n              _context5.t0 = _context5[\"catch\"](7);\n              response.text().then(function (text) {\n                console.log(\"Error Response\");\n                console.log(text);\n              });\n\n            case 17:\n              return _context5.abrupt(\"return\", retResp);\n\n            case 18:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, this, [[7, 14]], Promise);\n    }\n  }]);\n\n  return HttpClient;\n}();\n\nvar HttpWrapper = function HttpWrapper() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : AppDefaults.baseURL;\n  return new HttpClient(url);\n};\n\nexport default HttpWrapper;","map":{"version":3,"names":["AppDefaults","RootStore","HttpClient","baseUrl","isLoader","timeout","syncTimeout","url","config","commonStore","setLoaderStatus","response","fetch","Alert","alert","message","toLowerCase","includes","method","headers","httpFetch","body","JSON","stringify","ms","promise","Promise","resolve","reject","setTimeout","Error","then","get","ok","json","retResp","post","text","console","log","HttpWrapper","baseURL"],"sources":["/home/suraj/Desktop/hack/new/ineuron_sport_buddy_app/src/utils/HttpClient.ts"],"sourcesContent":["import { Alert } from \"react-native\";\nimport AppDefaults from \"../defaults/AppDefaults\";\nimport RootStore from \"../stores/RootStore\";\n\nclass HttpClient {\n\n    baseUrl: string;\n    syncTimeout: number;\n    isLoader: boolean;\n\n    constructor(baseUrl: any, isLoader = true, timeout = 60) {\n        this.baseUrl = baseUrl;\n        this.isLoader = isLoader;\n        this.syncTimeout = timeout;\n    }\n\n    async httpFetch(url: any, config: any) {\n        url = this.baseUrl ? this.baseUrl + url : url;\n        this.syncTimeout = this.syncTimeout * 1000;\n        if (this.isLoader) {\n            RootStore.commonStore.setLoaderStatus(true)\n        }\n        let response: any = null;\n        try {\n            response = await this.timeout(this.syncTimeout, fetch(url, config));\n        } catch (err: any) {\n            if (err == 'forbidden') {\n                throw err;\n            } else {\n                Alert.alert(\"Exception\", err?.message + (err?.message?.toLowerCase()?.includes('network request failed') ? \".Please Check internet connection \" : \"\"))\n                // CommonUtils.snackBar(async ()=>{await this.httpFetch(url,config)},\"Please Check Your Internet Connection\",\"RETRY\")\n            }\n        } finally {\n            if (this.isLoader) {\n                RootStore.commonStore.setLoaderStatus(false);\n            }\n        }\n\n        return response;\n    }\n\n    async get(url: string) {\n        let config: any = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        };\n\n        return this.httpFetch(url, config);\n    }\n\n    async post(url: string, body: object, method: string) {\n        let config = {\n            method: method,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(body)\n        };\n        return this.httpFetch(url, config);\n    }\n\n    timeout(ms: any, promise: any) {\n        return new Promise(function (resolve, reject) {\n            setTimeout(function () {\n                reject(new Error(\"timeout\"))\n            }, ms);\n            promise.then(resolve, reject)\n        })\n    }\n\n    async getResponse(url: string) {\n        let retResp: any\n        const response: any = await this.get(url);\n        if (response == null) { return null; }\n\n        try {\n            if (response.ok) {\n                retResp = await response.json();\n            }\n        }\n        catch (e: any) {\n            retResp = {}\n        }\n        return retResp\n    }\n\n    async postResponse(url: string, body: object, method: string = 'POST') {\n        let retResp: any = null\n        const response: any = await this.post(url, body, method);\n        if (response == null) { return null; }\n        try {\n            if (response.ok) {\n                retResp = await response.json();\n            }\n        }\n        catch (e: any) {\n            response.text().then(function (text: any) {\n                console.log(\"Error Response\")\n                console.log(text)\n            })\n        }\n\n        return retResp;\n    }\n}\n\nconst HttpWrapper=(url=AppDefaults.baseURL)=> new HttpClient(url);\n\nexport default HttpWrapper;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}